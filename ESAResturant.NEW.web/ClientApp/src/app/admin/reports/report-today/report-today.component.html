<div class="reportToday">

  <div class="loading" *ngIf="loading==true">

    <!--<img  src="../../../assets//img//loading1.gif" />-->

    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="211px" height="211px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
      <circle cx="50" cy="50" fill="none" stroke="#4164bd" stroke-width="10" r="34" stroke-dasharray="160.22122533307947 55.40707511102649" transform="rotate(89.4851 50 50)">
        <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="0.9345794392523364s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
      </circle>
      <!-- [ldio] generated by https://loading.io/ -->
    </svg>

  </div>


  <div class="container" style="max-width: 1310px;">
    <div class="row">
      <div class="repPageHeaderr">
        <h1>{{ 'ADMINSIDEBAR.DAILY' | translate }} </h1>
        <span>
          <a>
            <i class="fas fa-arrow-circle-left" (click)="navigateBack()"></i>
          </a>
        </span>

      </div>
      <!-- <div class="col-md-12"> -->
      <div class="repSearch">
        <div class="repSearchFill">
          <div class="repSchSelect">
            <mat-radio-group>
              <mat-radio-button (click)="getTypeDateTime('date')"> {{ 'LABELS.DATE' | translate }}</mat-radio-button>
              <mat-radio-button value="2" (click)="getTypeDateTime('time')"> {{ 'LABELS.TIME' | translate }}</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="repSchDate">

            <mat-form-field appearance="outline" *ngIf="typeDate=='date'" lang="en">
              <mat-label> {{ 'REPORTS.FROMDATE' | translate }}</mat-label>
              <input matInput lang="en" type="date" [matDatepicker]="DateFrom" [(ngModel)]="fromDate">
              <mat-datepicker-toggle matSuffix [for]="DateFrom" lang="en">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #DateFrom></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="outline" *ngIf="typeDate=='date'" lang="en">
              <mat-label>  {{ 'REPORTS.TODATE' | translate }}</mat-label>
              <input matInput lang="en" type="date" [matDatepicker]="DateTo" [(ngModel)]="toDate">
              <mat-datepicker-toggle matSuffix [for]="DateTo">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #DateTo></mat-datepicker>
            </mat-form-field><br class="show-in-small" />

            <mat-form-field appearance="outline" *ngIf="typeDate=='time'">
              <mat-label> {{ 'REPORTS.FROMDATE' | translate }}</mat-label>
              <input matInput [ngxMatDatetimePicker]="DateFrom" placeholder="Choose a date"  [(ngModel)]="fromTime">
              <mat-datepicker-toggle matSuffix [for]="DateFrom">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <ngx-mat-datetime-picker #DateFrom></ngx-mat-datetime-picker>
            </mat-form-field>

            <mat-form-field appearance="outline" *ngIf="typeDate=='time'">
              <mat-label> {{ 'REPORTS.TODATE' | translate }}</mat-label>
              <input matInput [ngxMatDatetimePicker]="DateTo" placeholder="Choose a date" [(ngModel)]="ToTime">
              <mat-datepicker-toggle matSuffix [for]="DateTo">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <ngx-mat-datetime-picker #DateTo></ngx-mat-datetime-picker>
            </mat-form-field>





            <button mat-icon-button class="btnPrint" aria-label="Example icon-button with a heart icon" (click)="getReportsBillAndItemByDate()">
              <i class="fas fa-search"></i>
            </button>


            <button mat-icon-button [matMenuTriggerFor]="menuPrintReport">
              <i class="fas fa-print"></i>
            </button>
            <mat-menu #menuPrintReport="matMenu">
              <button mat-menu-item (click)=" printReportToday()">
                {{ 'REPORTTODAY.PRINTSUMMRYTODAY' | translate }}
              </button>
              <button mat-menu-item (click)="printrItemsGroup('printItems')">
                {{ 'REPORTTODAY.PRINTITEMSUMMRY' | translate }}
              </button>
              <button mat-menu-item (click)="printerCategoryGroup('printCategories')">
                {{ 'ADMINSIDEBAR.CATEGORIESREPORT' | translate }}
              </button>
            </mat-menu>

            <mat-form-field appearance="outline" *ngIf="typeUserId==1 || isAccounter == true">
              <mat-label>  {{ 'REPORTTODAY.BOXMONY' | translate }}    </mat-label>
              <mat-select>
                <mat-option *ngIf="currentLang=='ar'" value="الكل" (click)="getBillAll($event)">الكل</mat-option>
                <mat-option *ngIf="currentLang=='en'" value="all" (click)="getBillAll($event)">all</mat-option>
                <mat-option *ngFor="let boxMonyType of boxMonyTypeList" [value]="boxMonyType.id" (click)="getBillByBoxMonyId(boxMonyType.id)">
                  {{boxMonyType.nameAR}}
                </mat-option>
              </mat-select>
            </mat-form-field>

          </div>




        </div>
        <div class="repTab">
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <a class="nav-item nav-link active" id="nav-repAbstract-tab" data-toggle="tab" href="#nav-repAbstract" role="tab" aria-controls="nav-repAbstract" aria-selected="true">{{ 'REPORTTODAY.SUMMERY' | translate }} </a>
              <a class="nav-item nav-link" id="nav-repInvoices-tab" data-toggle="tab" href="#nav-repInvoices" role="tab" aria-controls="nav-repInvoices" aria-selected="false"> {{ 'REPORTTODAY.BILLS' | translate }}   </a>
              <a class="nav-item nav-link" id="nav-repAddBoxMoney-tab" data-toggle="tab" href="#nav-repAddBoxMoney" role="tab" aria-controls="nav-repAddBoxMoney" aria-selected="false">   {{ 'REPORTTODAY.ADDTOBOXMONY' | translate }} </a>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="nav-repAbstract" role="tabpanel" aria-labelledby="nav-repAbstract-tab">
              <div class="repAbstract">
                <table>
                  <thead>
                    <tr>
                      <th></th>
                      <th>    {{ 'REPORTTODAY.COUNTS' | translate }}  </th>
                      <th>    {{ 'REPORTTODAY.DEPIT' | translate }}  </th>
                      <th>  {{ 'REPORTTODAY.CREDIT' | translate }}  </th>
                      <th> {{ 'REPORTTODAY.CASH' | translate }} </th>
                      <th>  {{ 'REPORTTODAY.VISA' | translate }}  </th>
                      <th>{{ 'REPORTTODAY.AGEL' | translate }}</th>
                      <th>{{ 'REPORTTODAY.VAT' | translate }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th>{{ 'REPORTTODAY.SALES' | translate }}    </th>
                      <td class="tdCount"><span>{{billTotals.totalBillCount}}</span></td>
                      <td class="tdDebtor"><span>0</span></td>
                      <td class="tdCreditor"><span>{{billTotals.sumBillNetTotals| number:'0.2-2'}}</span></td>
                      <td class="tdMoney"><span>{{billTotals.sumBillCash | number:'0.2-2'}}</span></td>
                      <td class="tdMoney"><span>{{billTotals.sumBillVisa | number:'0.2-2'}}</span></td>
                      <td class="tdMoney"><span>{{billTotals.sumBillRemaining | number:'0.2-2'}}</span></td>
                      <td class="tdQemamdafa"><span>{{billTotals.sumBillTotalVatTax | number:'0.2-2'}}</span></td>
                      <!--<td class="tdQemamdafa"><span>{{totalServices | number:'0.2-2'}}</span></td>
                      <td class="tdQemamdafa"><span>{{totalDiscount | number:'0.2-2'}}</span></td>-->
                      <!--<td class="tdQemamdafa"><span>{{totalDiscount | number:'0.2-2'}}</span></td>-->
                    </tr>

                    <tr>
                      <th>{{ 'REPORTTODAY.MORTAG3SALES' | translate }}  </th>
                      <td class="tdCount"><span>0</span></td>
                      <td class="tdDebtor"><span>0</span></td>
                      <td class="tdCreditor"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdQemamdafa"><span>0</span></td>
                    </tr>

                    <tr>
                      <th>{{ 'REPORTTODAY.PURCHASES' | translate }}</th>
                      <td class="tdCount"><span>0</span></td>
                      <td class="tdDebtor"><span>0</span></td>
                      <td class="tdCreditor"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdQemamdafa"><span>0</span></td>
                    </tr>

                    <tr>
                      <th>{{ 'REPORTTODAY.MORTAG3PURCHASES' | translate }}  </th>
                      <td class="tdCount"><span>0</span></td>
                      <td class="tdDebtor"><span>0</span></td>
                      <td class="tdCreditor"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdMoney"><span>0</span></td>
                      <td class="tdQemamdafa"><span>0</span></td>
                    </tr>

                    <tr>
                      <th> {{ 'REPORTTODAY.SARF' | translate }}   </th>
                      <td class="tdCount"><span>0</span></td>
                      <td class="tdDebtor"><span>{{sarf| number:'0.2-2'}}</span></td>
                      <td class="tdCreditor"><span>0</span></td>
                      <th colspan="4"><span> {{ 'REPORTTODAY.NETTOTAL' | translate }}   </span></th>
                    </tr>

                    <tr>
                      <th>{{ 'REPORTTODAY.KABD' | translate }}</th>
                      <td class="tdCount"><span>0</span></td>
                      <td class="tdDebtor"><span>0</span></td>
                      <td class="tdCreditor"><span>{{qapd| number:'0.2-2'}}</span></td>
                      <td><span></span></td>
                      <td colspan="2" rowspan="2" class="tbNetPrice"><span>{{ netTotals | number:'0.2-2'}}</span></td>
                      <td><span></span></td>
                    </tr>

                    <!--<tr>
                      <th>{{ 'REPORTTODAY.TOTAL' | translate }} </th>
                      <td></td>
                      <td class="tdSuptotal"><span>{{Purchases | number:'0.2-2'}}</span></td>
                      <td class="tdSuptotal"><span>{{totalCredit | number:'0.2-2'}}</span></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>-->
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane fade" id="nav-repInvoices" role="tabpanel" aria-labelledby="nav-repInvoices-tab" style="height:60vh;">
              <div class="repInvoices">

                <div class="repInvoicesTable">
                  <div class="example-container mat-elevation-z8">
                    <div class="repInvSearch">
                      <div class="col-md-12">
                        <div class="row justify-content-center">
                          <!-- <div class="col-md-5"> -->
                          <div class="BtnResizePaper">
                            <mat-icon>print</mat-icon>
                            <button mat-stroked-button (click)="ClickResizePaper('printInvA5')">A5</button>
                            <button mat-stroked-button (click)="ClickResizePaper('printInvA4')">A4</button>
                            <!--<button mat-stroked-button (click)="exportPDF()"> pdf </button>-->
                            <button mat-stroked-button (click)="exportAsXLSX()"> exel </button>

                            <mat-form-field appearance="outline">
                              <mat-label>  {{ 'USERS.USERS' | translate }}    </mat-label>
                              <mat-select>
                                <mat-option *ngFor="let user of usersList" [value]="user.id" (click)="filterBillByUser(user.id)">
                                  {{user.userName}}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>

                          </div>



                          <!-- </div> -->
                        </div>
                      </div>
                      <!-- <label><span>بحث بــ</span></label>
                      <mat-form-field appearance="outline">
                        <mat-label>نوع الفاتورة</mat-label>
                        <mat-select>
                          <mat-option *ngFor="let type of billTypeList" [value]="type.id" (click)="fillterBillByBillType(type)">
                            {{type.nameAR}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>-->
                    </div>
                    <!--
                    <mat-paginator [length]="completedPagginatedTableVM.totalCount"
                                   [pageSize]="completedPagginatedTableVM.itemsPerPage"
                                   [pageSizeOptions]="pageSizeOptions"
                                   (page)="Pagginatedchanged($event)">
                    </mat-paginator>
                        -->

                    <table class="table text-center" #reportContent>
                      <thead class="thead-dark">
                        <tr>
                          <th> {{ 'ACTIONS.ID' | translate }} </th>
                          <th> {{ 'REPORTTODAY.BILLNUMBER' | translate }}</th>
                          <th> {{ 'REPORTTODAY.REQUESTNUMBER' | translate }} </th>
                          <th> {{ 'LABELS.CLIENT' | translate }} </th>
                          <th> {{ 'LABELS.BILLTYPE' | translate }}</th>
                          <th> {{ 'REPORTTODAY.QUANTITY' | translate }} </th>
                          <th> {{ 'REPORTTODAY.TOTAL' | translate }}</th>
                          <th> {{ 'LABELS.DISCOUNT' | translate }} </th>
                          <th *ngIf="isActiveVatTax==1"> {{ 'LABELS.VAT' | translate }} </th>
                          <th *ngIf="isActiveTaxServeice==1"> {{ 'BILLINVOICE.SERVICEAX' | translate }} </th>
                          <th> {{ 'LABELS.PAYMENTTYPE' | translate }}  </th>
                          <th> {{ 'REPORTTODAY.NETTOTAL' | translate }}  </th>
                          <th> {{ 'LABELS.DATE' | translate }}  </th>
                          <!--<th> {{ 'LABELS.TIME' | translate }}  </th>-->
                          <th>{{ 'USERS.USERNAME' | translate }}</th>
                          <th>{{ 'REPORTTODAY.PRINT' | translate }} </th>
                          <th>  {{ 'ACTIONS.EDIT' | translate }}</th>
                          <!--<th> {{ 'ACTIONS.Delete' | translate }}  </th>-->
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let bill of filterBillList; let i=index;">
                          <th scope="row">{{i+1}}</th>
                          <td><span>{{bill.id}}</span></td>
                          <td><span>{{bill.orderNo}}</span></td>
                          <td><span>{{bill.pepoleName}}</span></td>
                          <td><span>{{currentLang=='ar'? bill.billType.nameAR : bill.billType.nameEN}}</span></td>
                          <td><span>{{bill.totalQty}}</span></td>
                          <td><span>{{bill.supTotal | number:'0.2-2'}}</span></td>
                          <td><span>{{bill.descountValue}}</span></td>
                          <td *ngIf="isActiveVatTax==1"><span>{{bill.totalVatTax | number:'0.2-2'}}</span></td>
                          <td *ngIf="isActiveTaxServeice==1"><span>{{bill.serviceFeesValue | number:'0.2-2'}}</span></td>
                          <td><span>{{ currentLang=='ar' ?  bill.paymentType.nameAR : bill.paymentType.nameEN}}</span></td>
                          <td><span>{{bill.netTotal | number:'0.2-2'}}</span></td>
                          <!--<td><span>{{bill.currentDate | date:'short':'+0000'}}</span></td>-->
                          <td style="padding: 0px !important;"><span style="font-size: 14px;padding-top: 10px;display: block;width: 80px;">{{bill.date | date : 'yyyy-MM-dd H:mm'}}</span></td>
                          <td><span>{{bill.user.userName}}</span></td>
                          <td>
                            <button mat-icon-button aria-label="Example icon-button with a heart icon" (click)="printRow(bill)">
                              <mat-icon>print</mat-icon>
                            </button>
                          </td>
                          <td>
                            <button mat-icon-button aria-label="Example icon-button with a heart icon" [routerLink]="['../billInvoice/',bill.id]">
                              <mat-icon>edit</mat-icon>
                            </button>
                          </td>
                          <!--<td>

    <button mat-icon-button aria-label="Example icon-button with a heart icon" (click)="deleteBill(deleteConfirm,bill)">
      <mat-icon>delete</mat-icon>
    </button>
  </td>-->
                          <!--<td><button type="submit" class="btn btn-danger btn-just-icon btn-fill btn-round" (click)="deleteBill(deleteConfirm,bill)"><i class="material-icons text-center">delete</i></button></td>-->
                          <!--<td><button type="submit">طباعة</button></td>-->
                        </tr>
                      </tbody>

                    </table>

                  </div>
                </div>
                <!--<mat-paginator [length]="completedPagginatedTableVM.totalCount"
                               [pageSize]="completedPagginatedTableVM.itemsPerPage"
                               [pageSizeOptions]="pageSizeOptions"
                               (page)="Pagginatedchanged($event)">
                </mat-paginator>-->
              </div>
            </div>
            <div class="tab-pane fade" id="nav-repAddBoxMoney" role="tabpanel" aria-labelledby="nav-repAddBoxMoney-tab" style="height:60vh;">
              <div class="repAddBoxMoney">
                <div class="repBoxMoney text-center">
                  <mat-form-field class="cc" style="width: 320px;" appearance="outline">
                    <mat-label>    {{ 'REPORTTODAY.TRANSACTIONTYPE' | translate }}</mat-label>
                    <mat-select name="typeInv" [(ngModel)]="boxMony.boxMonyCategoryId">
                      <mat-option *ngFor="let boxMonyCategory of boxMonyCategoryList" [value]="boxMonyCategory.id">
                        {{boxMonyCategory.nameAR}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button mat-icon-button (click)="openBoxMonyCategoryModal(boxCategorytemplate)" class="btnAdd">
                    <mat-icon aria-label="Example icon-button with a heart icon">add</mat-icon>
                  </button>
                  <br />
                  <mat-form-field class="example-full-width" appearance="outline" style="width: 175px; margin-left: 10px;">
                    <mat-label> {{ 'REPORTTODAY.CREDIT' | translate }}</mat-label>
                    <input matInput name="Sarf" id="" style="text-align:center" [(ngModel)]="boxMony.credit" (click)="$event.target.select()" [disabled]="enableBTNCredit==1">
                  </mat-form-field>
                  <mat-form-field class="example-full-width" appearance="outline" style="width: 175px;">
                    <mat-label>    {{ 'REPORTTODAY.DEPIT' | translate }}</mat-label>
                    <input matInput name="Qabd" id="" [(ngModel)]="boxMony.debit" style="text-align:center" (click)="$event.target.select()" [disabled]="enableBTNDebit==1">
                  </mat-form-field>
                  <br />

                  <mat-form-field class="example-full-width text-right" style="width: 360px;" appearance="outline">
                    <mat-label>{{ 'REPORTTODAY.NOTIC' | translate }} </mat-label>
                    <textarea matInput name="Bayan" style="text-align:center" [(ngModel)]="boxMony.note"></textarea>
                  </mat-form-field>


                  <div class="repBoxMoneyBtn">
                    <button mat-stroked-button (click)="addBoxMony()"> {{ 'ACTIONS.SAVE' | translate }} <i class="far fa-save"></i></button>
                  </div>

                  <!--<p class="text-center text-danger">
                    {{ 'REPORTTODAY.KABDORSARF' | translate }}
                    <br>
                    <mat-checkbox class="text-dark" [(ngModel)]="disabled">
                      {{ 'REPORTTODAY.ADDTRANSACTION' | translate }}
                    </mat-checkbox>
                  </p>-->
                  <!--<div *ngIf="disabled">
                    <mat-radio-group aria-label="Select an option" [(ngModel)]="boxMony.boxMonyTypeId">
                      <mat-radio-button *ngFor="let type of listPeopleType" [value]="type.id" [disabled]="!disabled" (click)="getPeopleType(type)">{{type.nameAR}}</mat-radio-button>
                    </mat-radio-group><br />

                    <div *ngIf="peopleType.nameAR=='عميل'">
                      <mat-form-field appearance="outline">
                        <mat-select [(ngModel)]="boxMony.peopleId">
                          <mat-option *ngFor="let customer of customers" [value]="customer.id" [disabled]="!disabled">
                            {{customer.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div *ngIf="peopleType.nameAR=='مورد'">
                      <mat-form-field appearance="outline">
                        <mat-select [(ngModel)]="boxMony.peopleId">
                          <mat-option *ngFor="let supp of suppliers" [value]="supp.id" [disabled]="!disabled">
                            {{supp.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="repBoxMoneyBtn">
                      <button mat-stroked-button (click)="addBoxMony()"> {{ 'ACTIONS.SAVE' | translate }} <i class="far fa-save"></i></button>
                    </div>
                  </div>-->
                </div>
              </div>
            </div>


            <!-- Form Printer -->
            <div class="printableInv printInvRoll" id="printItems" #printItems hidden="hidden">
              <div class="printInv text-right">
                <!-- <h2>{{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }}</h2>
                <img src="../../../../assets/img/Logo4.png" alt="Logo"> -->
                <div class="printInvDetailsAddress">
                  <div class="PrintCompanyName">
                    <h1> {{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }} </h1>
                  </div>
                  <div class="PrintLogo">
                    <img src="../../../../assets/img/Logo4.png" alt="Logo" width="50" height="50">
                  </div>
                </div>
                <br />
                <h3>  {{ 'ADMINSIDEBAR.ITEMSREPORT' | translate }} </h3>
                <div class="printInvDetails">
                  <div class="row">
                    <div class="printInvDetailsAddress">
                      <h1></h1>
                      <label>
                        <strong>
                          {{ 'REPORTTODAY.DATE' | translate }}
                          <span>{{fromDate | date:'dd-MM-yyyy'}}</span>
                        </strong>
                      </label>
                    </div>
                  </div>
                  <div class="printInvTable text-center">
                    <table>
                      <tbody>
                        <tr *ngFor="let item of itemsGroup; let i=index;">

                          <th scope="row">{{i+1}}</th>
                          <td><span>{{item.itemName}}</span></td>
                          <td><span>{{item.qty}}</span></td>
                          <td><span>{{item.total | number:'0.2-2'}}</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div class="printInvFooter">
                    <p>
                      Power By Easacc<br />
                      www.easacc.com
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Form Printer -->
            <div class="printableInv printInvRoll" id="printCategories" #printCategories hidden="hidden">
              <div class="printInv text-right">
                <!-- <h2>{{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }}</h2>
                <img src="../../../../assets/img/Logo4.png" alt="Logo"> -->
                <div class="printInvDetailsAddress">
                  <div class="PrintCompanyName">
                    <h1> {{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }} </h1>
                  </div>
                  <div class="PrintLogo">
                    <img src="../../../../assets/img/Logo4.png" alt="Logo" width="50" height="50">
                  </div>
                </div>
                <br />
                <h3>  {{ 'ADMINSIDEBAR.ITEMSREPORT' | translate }} </h3>
                <div class="printInvDetails">
                  <div class="row">
                    <div class="printInvDetailsAddress">
                      <h1></h1>
                      <label>
                        <strong>
                          {{ 'REPORTTODAY.DATE' | translate }}
                          <span>{{fromDate | date:'dd-MM-yyyy'}}</span>
                        </strong>
                      </label>
                    </div>
                  </div>
                  <div class="printInvTable text-center">
                    <table>
                      <thead>
                      <th>#</th>
                      <th>أسم الفئة</th>
                      <th>الكمية</th>
                      <th>الاجمالى</th>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of categoryGroupList; let i=index;">

                          <th scope="row">{{i+1}}</th>
                          <td><span>{{item.itemName}}</span></td>
                          <td><span>{{item.qty}}</span></td>
                          <td><span>{{item.total | number:'0.2-2'}}</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div class="printInvFooter">
                    <p>
                      Power By Easacc<br />
                      www.easacc.com
                    </p>
                  </div>
                </div>
              </div>
            </div>


            <!-- Form Printer -->
            <div class="printableInv printInvRoll" id="printMiniToday" #printMiniToday hidden="hidden">
              <div class="printInv text-right">
                <!-- <h2>{{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }}</h2>

                <img src="~/frutti.jpeg" /> -->
                <div class="printInvDetailsAddress">
                  <div class="PrintCompanyName">
                    <h1> {{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }} </h1>
                  </div>
                  <div class="PrintLogo">
                    <!--<img src="../../../../assets/img/Logo4.png" alt="Logo">-->
                    <img src="~/frutti.jpeg" width="50" height="50" />
                  </div>
                </div>
                <br />
                <h3>  {{ 'ADMINSIDEBAR.REORTDAILY' | translate }} </h3>
                <div class="printInvDetails">
                  <div class="row">
                    <div class="printInvDetailsAddress">
                      <h1></h1>
                    </div>
                  </div>
                  <div class="printInvTable text-center">
                    <table>
                      <thead>
                        <tr>
                          <th class="tdtext-center" scope="col"> {{ 'REPORTTODAY.NOTIC' | translate }} </th>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.COUNTS' | translate }} </th>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.DEPIT' | translate }} </th>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.CREDIT' | translate }} </th>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.CASH' | translate }} </th>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.VISA' | translate }} </th>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.AGEL' | translate }}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th class="tdtext-center">{{ 'REPORTTODAY.SALES' | translate }}    </th>
                          <td class="tdtext-center">{{billTotals.totalBillCount}}</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">{{billTotals.sumBillNetTotals| number:'0.2-2'}}</td>
                          <td class="tdtext-center">{{billTotals.sumBillCash | number:'0.2-2'}}</td>
                          <td class="tdtext-center">{{billTotals.sumBillVisa | number:'0.2-2'}}</td>
                          <td class="tdtext-center">{{billTotals.sumBillRemaining | number:'0.2-2'}}</td>
                        </tr>

                        <tr>
                          <th class="tdtext-center">{{ 'REPORTTODAY.PURCHASES' | translate }}</th>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                        </tr>

                        <tr>
                          <th class="tdtext-center">{{ 'REPORTTODAY.MORTAG3SALES' | translate }}  </th>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                        </tr>

                        <tr>
                          <th class="tdtext-center">{{ 'REPORTTODAY.MORTAG3PURCHASES' | translate }}  </th>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                        </tr>
                        <tr>
                          <th class="tdtext-center"> {{ 'REPORTTODAY.SARF' | translate }}   </th>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">{{sarf| number:'0.2-2'}}</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                        </tr>
                        <tr>
                          <th class="tdtext-center">{{ 'REPORTTODAY.KABD' | translate }}</th>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">{{qapd| number:'0.2-2'}}</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                        </tr>
                        <tr>
                          <th class="tdtext-center">{{ 'REPORTTODAY.TOTAL' | translate }} </th>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">{{Purchases | number:'0.2-2'}}</td>
                          <td class="tdtext-center">{{totalCredit | number:'0.2-2'}}</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                          <td class="tdtext-center">0</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div class="printInvFooter">
                    <p>
                      Power By Easacc<br />
                      www.easacc.
                      com
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="newAdd">
          <div class="container">
            <div class="row">
              <div class="col-md-12 text-center">
                <div>
                  <h4 class="TaxesHeader"> {{ 'REPORTTODAY.ADDTOBOXMONY' | translate }}</h4>
                  <div class="repAddBoxMoney">
                    <div class="repBoxMoney text-center">
                      <mat-form-field class="cc" style="width: 320px;" appearance="outline">
                        <mat-label>{{ 'REPORTTODAY.TRANSACTIONTYPE' | translate }}</mat-label>
                        <mat-select name="typeInv" [(ngModel)]="boxMony.boxMonyCategoryId">
                          <mat-option *ngFor="let boxMonyCategory of boxMonyCategoryList" [value]="boxMonyCategory.id" (onSelectionChange)="getCreditOrDebit(boxMonyCategory)">
                            {{boxMonyCategory.nameAR}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <button mat-icon-button (click)="openBoxMonyCategoryModal(boxCategorytemplate)" class="btnAdd">
                        <mat-icon aria-label="Example icon-button with a heart icon">add</mat-icon>
                      </button>
                      <br />
                      <mat-form-field class="example-full-width" appearance="outline" style="width: 175px; margin-left: 10px;">
                        <mat-label>{{ 'REPORTTODAY.CREDIT' | translate }}</mat-label>
                        <input matInput name="Sarf" id="" style="text-align:center" [(ngModel)]="boxMony.credit" (click)="$event.target.select()" [disabled]="enableBTNCredit==1">

                      </mat-form-field>
                      <mat-form-field class="example-full-width" appearance="outline" style="width: 175px;">
                        <mat-label>  {{ 'REPORTTODAY.DEPIT' | translate }} </mat-label>
                        <input matInput name="Qabd" id="" [(ngModel)]="boxMony.debit" style="text-align:center" (click)="$event.target.select()" [disabled]="enableBTNDebit==1">
                      </mat-form-field>
                      <br />

                      <mat-form-field class="example-full-width text-right" style="width: 360px;" appearance="outline">
                        <mat-label>{{ 'REPORTTODAY.NOTIC' | translate }}</mat-label>
                        <textarea matInput name="Bayan" style="text-align:center" [(ngModel)]="boxMony.note"></textarea>
                      </mat-form-field>


                      <div class="repBoxMoneyBtn">
                        <button mat-stroked-button (click)="addBoxMony()">{{ 'ACTIONS.SAVE' | translate }} <i class="far fa-save"></i></button>

                        <button mat-stroked-button (click)="ClearBoxMony()">{{ 'ACTIONS.NEW' | translate }} <i class="btnAdd material-icons">replay</i></button>

                      </div>

                      <!--<p class="text-center text-danger">
                        {{ 'REPORTTODAY.KABDORSARF' | translate }}
                        <br>
                        <mat-checkbox class="text-dark" [(ngModel)]="disabled">
                          {{ 'REPORTTODAY.ADDTRANSACTION' | translate }}
                        </mat-checkbox>
                      </p>
                      <div *ngIf="disabled">
                        <mat-radio-group aria-label="Select an option" [(ngModel)]="boxMony.boxMonyTypeId">
                          <mat-radio-button *ngFor="let type of listPeopleType" [value]="type.id" [disabled]="!disabled" (click)="getPeopleType(type)">{{type.nameAR}}</mat-radio-button>
                        </mat-radio-group><br />

                        <div *ngIf="peopleType.nameAR=='عميل'">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="boxMony.peopleId">
                              <mat-option *ngFor="let customer of customers" [value]="customer.id" [disabled]="!disabled">
                                {{customer.name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>

                        <div *ngIf="peopleType.nameAR=='مورد'">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="boxMony.peopleId">
                              <mat-option *ngFor="let supp of suppliers" [value]="supp.id" [disabled]="!disabled">
                                {{supp.name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>

                        <div class="repBoxMoneyBtn">
                          <button mat-stroked-button (click)="addBoxMony()">{{ 'ACTIONS.SAVE' | translate }} <i class="far fa-save"></i></button>
                        </div>
                      </div>-->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <!--test-->
      <!-- </div> -->
    </div>
  </div>
</div>

<div>
  <ng-template #boxCategorytemplate>
    <div class="modal-header" (click)="closeBoxCategorymodal()">
      <h5 class="modal-title" id="exampleModalCenterTitleUnit">{{ 'REPORTTODAY.ADDTOBOXMONY' | translate }}</h5>
      <button type="button" class="btn" (click)="closeBoxCategorymodal()">
        <span aria-hidden="true"><i class="fas fa-power-off text-danger"></i></span>
      </button>
    </div>
    <div class="modal-body text-right">
      <div class="cat">
        <app-box-MonyCategory></app-box-MonyCategory>
      </div>
    </div>
    <div class="modal-footer"></div>
  </ng-template>
</div>

<div>
  <ng-template #currencyTemplate>
    <div class="modal-header" (click)="closeBoxCategorymodal()">
      <h5 class="modal-title" id="exampleModalCenterTitleUnit">
        {{ 'REPORTTODAY.CURRENCIESTOTAL' | translate }}
      
      </h5>
      <button type="button" class="btn" (click)="closeBoxCategorymodal()">
        <span aria-hidden="true"><i class="fas fa-power-off text-danger"></i></span>
      </button>
    </div>
    <div class="modal-body text-right">
      <div class="cat">

        <div class="repInvTable">
          <table class="table text-center">
            <thead class="thead-dark thead.thead-darkFelexRow">
              <tr>
                <th *ngFor="let currency of currenciesList">{{currency.nameAr}}</th>
              </tr>
            </thead>
            <tbody class="tableFlexRow">
              <tr>
                <td *ngFor="let filterBill of filterCurrenciesList"><span>{{filterBill.total}}</span></td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>
    <div class="modal-footer"></div>
  </ng-template>
</div>

<!--<ng-template #deleteConfirm>
  <div class="modal-body text-center">
    <p>{{"هل تريد تأكيد الحذف"}}</p>
    <p *ngIf="bill.isApproverd==1">{{"الطلب بالفعل تمت الموافقة عليه هل تريد تأكد الحذف ؟"}}</p>
    <button type="button" class="btn btn-danger" (click)="deleteBillConfirm()">
      {{"تأكيد"}}
    </button>
    <button type="button" class="btn btn-default" (click)="modalRef.hide()">{{"إلغاء"}}</button>
  </div>
</ng-template>-->

<div class="printableInv printInvRoll" id="printbill" #printbill hidden="hidden">
  <div class="printInv text-right">
    <div class="printInvHeader">
      <div class="row">
        <div class="col-md-6">
          <div class="printInvHeaderLogo1">
            <label class="f-24">
              {{printablebill.orderNo}}
            </label>
          </div>
        </div>
        <div class="col-md-6">
          <div class="printInvHeaderLogo2">
            <!--<img src="../../../assets/img/logo.png" width="126" height="68" alt="EasAcc" srcset="">-->
            <!--<img [src]="_user.branch.companyInfo.logo">-->
            <img src="../../../../assets/img/Logo4.png" alt="Logo" width="50" height="50">

          </div>
        </div>
      </div>
    </div>
    <div class="printInvDetails">
      <div class="row">
        <div class="printInvDetailsAddress">
          <h1></h1>
        </div>
        <div class="col-md-5">
          <!--<label>
    <strong>
      {{ 'REPORTTODAY.PEOPLE' | translate }}
    </strong>
    <span>{{printablebill.pepoleName}}</span>
  </label><br />
  <label>
    <strong>
      {{ 'REPORTTODAY.PHONE' | translate }}
    </strong>
    <span>-</span>
  </label>-->

          <label>
            <span>{{printablebill.date | date:'dd-MM-yyyy'}}</span>
            <strong>
              <!--{{ 'REPORTTODAY.DATE' | translate }}-->
              : Date
            </strong>
          </label>
          <br />
                  <label>
                    <span>{{printablebill.date | date:'hh:mm aaa'}}</span>
                    <strong>
                      <!--{{ 'REPORTTODAY.TIME' | translate }}-->
                      : TIME
                    </strong>
                  </label>

          <br />
        </div>
        <div class="col-md-7">
          <!--<label>
    <strong>
      {{ 'REPORTTODAY.DATE' | translate }}
    </strong>
    <span>{{printablebill.date | date:'dd-MM-yyyy'}}</span>
  </label><br />
  <label>
    <strong>
      {{ 'REPORTTODAY.TIME' | translate }}


    </strong>
    <span>{{printablebill.date | date:'hh:mm aaa'}}</span>
  </label>
  <br />-->
          <label>
            <span>{{printablebill.tableNo}}</span>
            <strong>

              <!--{{ 'REPORTTODAY.TABLENUMBER' | translate }}-->
            : Table
            </strong>
          </label>

          <label>
            <span>{{userName}}</span>
            <strong>
             : User Name
            </strong>
          </label>
        </div>
      </div>
      <div class="printInvTable text-center">
        <table>
          <thead>
            <tr>
              <th>     {{ 'LABELS.ITEMNAME' | translate }} </th>
              <th>   {{ 'LABELS.QUANTITY' | translate }} </th>
              <th>{{ 'LABELS.SellPrice' | translate }} </th>
              <th>  {{ 'LABELS.VAT' | translate }} </th>
              <th>{{ 'LABELS.TOTAL' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let billdetail of printablebill.billDetails; let i=index" id="billdetail{{i+1}}">
              <td> {{billdetail.item.nameAR}} - ({{billdetail.itemPrice.itemSize.sizeNameAr}})</td>
              <td>{{billdetail.qty}}</td>
              <td>{{billdetail.itemSellPrice | number:'0.2-2'}}</td>
              <td>{{billdetail.vatTax | number:'0.2-2'}}</td>
              <td>{{billdetail.totalAfterVatTax | number:'0.2-2'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="printInvSum">
        <div class="row">
          <div class="col-md-6">
            <!--<label>
    <strong>عدد القطع</strong>
    <span>{{printablebill.totalQty}}</span>
  </label>
  <label>
    <strong>{{ 'LABELS.PAID' | translate }}</strong>
    <span>{{printablebill.paied}}</span>
  </label>
  <label>
    <strong>  {{ 'LABELS.REMAINING' | translate }}</strong>
    <span>{{printablebill.remaining}}</span>
  </label>-->


            <label>
              <span>{{printablebill.supTotal | number:'0.2-2'}}</span>
              <strong>: Total Befor </strong>
            </label>

            <label>
              <span>{{printablebill.totalVatTax | number:'0.2-2'}}</span>
              <strong>: Total Tax </strong>
            </label>

            <label>
              <span> {{printablebill.serviceFeesValue | number:'0.2-2'}}</span>
              ({{printablebill.serviceFees}})%
              <strong>: Total serviceFees </strong>
            </label>

          </div>
          <div class="col-md-6">
            <!--<label>
    <strong>{{ 'LABELS.TOTALVAT' | translate }}</strong>
    <span>{{printablebill.supTotal}}</span>
  </label>
  <label>
    <strong>
      {{ 'LABELS.DISCOUNT' | translate }}
    </strong>
    <span>{{printablebill.descountValue}}</span>
  </label>
  <label>
    <strong>
      {{ 'LABELS.PAYMENTTYPE' | translate }}
    </strong>
    <span>{{printablebill.paymentType.nameAR}}</span>
  </label>-->


            <label>
              <span>{{printablebill.totalAfterVatTax | number:'0.2-2'}}</span>
              <strong>
               : Total After
              </strong>
            </label>

            <label>
              <span>{{printablebill.descountValue | number:'0.2-2'}}</span>
              <strong>
               : Descount
              </strong>
            </label>

            <label>
              <span> {{printablebill.paymentType.nameEN }}</span> 
              <strong>
               : Payment
              </strong>
            </label>
          </div>
          <div class="col-md-12">
            <h3>
              <label>
                {{ 'REPORTTODAY.NETTOTAL' | translate }}
              </label>
              <span>{{printablebill.netTotal}}</span>
            </h3>
          </div>
        </div>
      </div>
      <div class="printInvFooter">
        <p>
          Power By Easacc<br />
          www.easacc.com
        </p>
      </div>
    </div>
  </div>
</div>
<div class="printableInv" id="printRep" hidden>
  <div [class]="ResizePaper">
    <div class="printInvDetails">
      <div class="row">
        <div class="printInvDetailsAddress">
          <div class="PrintCompanyName">
            <h1> {{ 'BRANCHES.COMPANYNAME' | translate }} : {{ currentLang=='ar' ? bill.companyInfo.nameAR : bill.companyInfo.nameEN }} </h1>
          </div>
          <div class="PrintLogo">
            <!--<img src="../../../../assets/img/Logo4.png" alt="Logo">-->
            <img src="../../../../assets/img/Logo4.png" alt="Logo" width="50" height="50">
          </div>
        </div>
        <div class="PrintName text-center">
          <h2> {{ 'ADMINSIDEBAR.BILLSREPORT' | translate }} </h2>
        </div>
        <div class="PrintDate">
          <!-- <h3>التاريخ</h3> -->
          <p>{{ 'REPORTS.FROM' | translate }}: <strong>{{fromDate | date: 'yyyy-MM-dd'}}</strong></p>
          <p>{{ 'REPORTS.TO' | translate }}: <strong>{{toDate | date: 'yyyy-MM-dd'}}</strong></p>
        </div>
        <div class="PrintSearchType">
        </div>
      </div>
    </div>
    <div class="printInvTable text-center">
      <table>
        <thead>
          <tr>
            <th> {{ 'ACTIONS.ID' | translate }} </th>
            <th> {{ 'REPORTTODAY.BILLNUMBER' | translate }}</th>
            <th> {{ 'REPORTTODAY.REQUESTNUMBER' | translate }} </th>
            <th> {{ 'LABELS.CLIENT' | translate }} </th>
            <th> {{ 'REPORTTODAY.QUANTITY' | translate }} </th>
            <th> {{ 'REPORTTODAY.TOTAL' | translate }}</th>
            <th> {{ 'LABELS.DISCOUNT' | translate }} </th>
            <th *ngIf="isActiveVatTax==1"> {{ 'LABELS.VAT' | translate }} </th>
            <th *ngIf="isActiveTaxServeice==1"> {{ 'BILLINVOICE.SERVICEAX' | translate }} </th>
            <th> {{ 'LABELS.PAYMENTTYPE' | translate }}  </th>
            <th> {{ 'REPORTTODAY.NETTOTAL' | translate }}  </th>
            <th> {{ 'LABELS.DATE' | translate }}  </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let bill of filterBillList; let i=index;">
            <th scope="row">{{i+1}}</th>
            <td>{{bill.id}}</td>
            <td>{{bill.orderNo}}</td>
            <td>{{bill.pepoleName}}</td>
            <td>{{bill.totalQty}}</td>
            <td>{{bill.supTotal | number:'0.2-2'}}</td>
            <td>{{bill.descountValue}}</td>
            <td *ngIf="isActiveVatTax==1">{{bill.totalVatTax | number:'0.2-2'}}</td>
            <td *ngIf="isActiveTaxServeice==1">{{bill.serviceFeesValue | number:'0.2-2'}}</td>
            <td>{{bill.paymentType.nameAR}}</td>
            <td>{{bill.netTotal | number:'0.2-2'}}</td>
            <td>{{bill.date | date: 'dd/MM/yyyy'}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="printInvFooter">
      <p>
        Power By Easacc<br />
        www.EasAcc.com
      </p>
    </div>
  </div>
</div>


<!--<ng-template #deleteConfirm>
  <div class="modal-body text-center">
    <p>{{ 'Messages.DeleteConfirm' | translate }}</p>
    <button type="button" class="btn btn-danger" (click)="deleteBillConfirm()">
      <p>{{ 'LABELS.CONFIRM' | translate }}</p>
    </button>
    <button type="button" class="btn btn-default" (click)="modalRef.hide()">{{ 'LABELS.EXITE' | translate }}</button>
  </div>
</ng-template>-->
